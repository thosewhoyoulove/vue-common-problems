<!--
 * @Description:
 * @Author: 曹俊
 * @Date: 2022-09-17 13:05:10
 * @LastEditors: 曹俊
 * @LastEditTime: 2022-09-22 16:12:35
-->

# 2022 年 9 月 12 日 19:59:27-Request header field x-token is not allowed by Access-Control-Allow-Headers in preflight response：错把 X-token 当成请求头的 token

## 解决方案：去除了请求头上的 token，在请求体上用 cookie 当做登录的凭证(不安全，之后再解决)

# 2022 年 9 月 17 日 13:05:32-打包部署：TypeError: Failed to fetch dynamically imported module

## 解决方案：由于每次打包后的 index.html 与响应的 js 文件是对应的，所以要将 index.html 文件替换

# 2022 年 9 月 17 日 16:55:34 项目打包成功，部署到了服务器上，然后配置了 Nginx 和域名，Nginx 的端口号要和服务器的端口号一致，然后就想用脚本自动打包部署，运行 bash depoly.sh,本来想直接用 pnpm 的脚本运行 deploy.sh，但是显示 Could not resolve hostname 119.91.120.237

# 2022 年 9 月 17 日 18:47:07-DNS 解析

## 将域名放到 vercel 上，然后在服务器的 DNS 解析 vercel 返回的域名，就可以用境内的网络访问接口了

# 2022 年 9 月 18 日 14:54:30

## Rollup failed to resolve import "public/rocket.jpg"

# 2022 年 9 月 22 日 16:10:40 vue-router 使用 history 模式刷新页面会 404

### 解决方案：将 Nginx 配置文件修改为下列代码

```Nginx
listen 80;
        server_name sciencewithfun;
        location /music {
            root  /www/server/phpmyadmin/music;
            index index.html index.htm index.php;
            try_files $uri $uri/ /music/index.html;
        }
```

